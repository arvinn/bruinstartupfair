var sponsors = {
  'snapchat': {
    'name': 'Snapchat',
    'description': 'Snapchat is a fun messaging app for sharing moments. You can take a photo or a video, then add a caption or doodle or lense, and send it to a friend or add it to your story to share with the world/your followers. Friends can view individual snaps for up to 10 seconds, and then it disappears.',
    'positions': [{
                     'position': 'Software Engineer Intern',
                     'details': ['3 Open Positions', 'Full-Time', 'Summer 2016']
                  },
                  {
                     'position': 'Marketing Intern ',
                     'details': ['Full-Time' , 'Summer 2016',]
                  },
                  {
                     'position': 'Data Analytics Intern ',
                     'details': ['Part-Time', 'Spring 2016']
                  }],
    'logo': './img/logo-small.png'
  },

  'epoxy': {
    'name': 'Epoxy, Inc',
    'description': 'Epoxy builds exceptional software for short-form video creators and networks. We support the creator-fan relationship with critical technology allowing creators to share video and interact with fans wherever they spend time.',
    'positions': [
                 {
                     'position': 'Full Stack Rails Engineer',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Data Engineer',
                     'details': ['Full-Time']
                 },
                 ],
    'logo': './img/logo/epoxy.png'
  },

  'songabout': {
    'name': 'Songabout.FM',
    'description': 'Songabout.FM provides a verified All-In-One platform portal for music artists to share their song meanings and in-studio video content of behind the scenes footage.',
    'positions': [
                 {
                     'position': 'We are currently seeking to fulfill freelance iOS and android positions . Location based back-end knowledge is a plus!',
                     'details': []
                 },
                 ],
    'logo': './img/logo/songabout.png'
  },

  'fluxchargers': {
    'name': 'Flux Chargers',
    'description': '',
    'positions': [
                 {
                     'position': 'Full Stack Rails Engineer',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Data Engineer',
                     'details': ['Full-Time']
                 },
                 ],
    'logo': './img/logo/',
    'url' : 'http://epoxy.tv',
  },

  'fluxchargers': {
    'name': 'Flux Chargers',
    'description': 'Flux Chargers has one of the slimmest (6mm) and most beautiful portable chargers out there. With a built-in cord for Android and iPhone, the Flux Card™ is a truly universal phone charger. ',
    'positions': [
                 {
                     'position': 'Marketing Intern',
                     'details': ['All Year']
                 },
                 {
                     'position': 'Software Engineer Intern',
                     'details': ['All Year']
                 },
                 {
                     'position': 'Sales Representatives',
                     'details': ['All Year']
                 },
                 ],
    'logo': './img/logo/fluxcharger.png',
    'url' : 'http://fluxchargers.com',
  },

  'locent': {
    'name': 'Locent',
    'description': "We help companies build checkouts that run through text notifications. We're backed by Y-Combinator and run by UCLA alums.",
    'positions': [
                 {
                     'position': 'Software engineering intern',
                     'details': ['Part-time spring', 'Full-time summer']
                 },
                 ],
    'logo': './img/logo/locent.png',
    'url' : 'https://www.locent.com/',
  },

  'gustudios': {
    'name': 'GuStudios',
    'description': 'Encouraging the betterment of humanity and creativity through the creation of technology. ',
    'positions': [
                 {
                     'position': 'Summer Software Engineer',
                     'details': ['Full-Time', 'Part-time', 'Intern']
                 },
                 {
                     'position': 'Summer Graphic Designer',
                     'details': ['Full-Time', 'Part-time', 'Intern']
                 },
                 ],
    'logo': './img/logo/gustudio.png',
    'url' : 'http://www.gustudios.com/landing',
  },

  'tripscope': {
    'name': 'TripScope',
    'description': 'TripScope empowers travel agents to create, manage, and deliver customized itineraries. TripScope’s itinerary management website, mobile app, and advanced communication tools allow for interactive travel planning and world-class traveler support',
    'positions': [
                 {
                     'position': 'Client relations representative',
                     'details': []
                 },
                 {
                     'position': 'Marketing relations representative',
                     'details': []
                 },
                 {
                     'position': 'Growth Hacker',
                     'details': []
                 },
                 {
                     'position': 'Interns',
                     'details': []
                 },
                 {
                     'position': 'Business development representatives',
                     'details': []
                 },
                 ],
    'logo': './img/logo/tripscope.png',
    'url' : 'http://www.tripscopeapp.com',
  },

  'fluxla': {
    'name': 'Flux.LA',
    'description': 'Software Consultancy Services',
    'positions': [
                 {
                     'position': 'Sales',
                     'details': ['Year long']
                 },
                 {
                     'position': 'Software engineering',
                     'details': ['Intern', 'Spring/Summer']
                 },
                 {
                     'position': 'Cllient Experience Intern',
                     'details': ['Spring/Summer']
                 },
                 ],
    'logo': './img/logo/fluxla.png',
    'url' : 'http://flux.la',
  },

  'tuitionio': {
    'name': 'Tuition.io',
    'description': "Tuition.io's award-winning technology enables employers to contribute directly to their employees' existing student loan debt, making recruiting easier and delivering retention through engagement and workforce happiness.",
    'positions': [
                 {
                     'position': 'Software engineering intern',
                     'details': ['Spring/Summer']
                 },
                 {
                     'position': 'Sales intern',
                     'details': ['Spring/Summer']
                 },
                 {
                     'position': 'Client experience intern',
                     'details': ['Spring/Summer']
                 },
                 ],
    'logo': './img/logo/tuitionio.png',
    'url' : 'http://tuition.io',
  },

  'nimble': {
    'name': 'Nimble',
    'description': 'Nimble is a simply smarter sales and marketing solution. It allows you to track, engage, and nurture important contacts. It works everywhere you are: social sites, your inbox, etc. It delivers insights on any person or company you come across onlin',
    'positions': [
                 {
                     'position': 'Social Media & Influencer Marketing Intern',
                     'details': ['Part time', 'Summer']
                 },
                 {
                     'position': 'Customer Data Analyst/Market Research Intern',
                     'details': ['Part time', 'Summer']
                 },
                 {
                     'position': 'Front End Engineering Intern',
                     'details': ['Part time', 'Summer']
                 },
                 {
                     'position': 'UI/UX Design Intern',
                     'details': ['Part time', 'Summer']
                 },
                 {
                     'position': 'Software Engineering Intern',
                     'details': ['Part time', 'Summer']
                 },
                 ],
    'logo': './img/logo/nimble.png',
    'url' : 'http://www.nimble.com/',
  },

  'gridspace': {
    'name': 'Gridspace',
    'description': "Gridspace is a collaboration between SRI International, the lab behind Siri, and a multidisciplinary team of engineers. The company's software makes complex interactions easy to understand by making them searchable, accessible and organized. ",
    'positions': [
                 {
                     'position': 'Software Engineering',
                     'details': ['Intern']
                 },
                 {
                     'position': 'Full-time generalist programmer',
                     'details': []
                 },
                 {
                     'position': 'NLP/ASR expert',
                     'details': []
                 },
                 {
                     'position': 'Front end developer',
                     'details': []
                 },
                 ],
    'logo': './img/logo/gridspace.png',
    'url' : 'http://www.gridspace.com',
  },

  'eatthismuch': {
    'name': 'Eat This Much',
    'description': 'Eat This Much automatically creates meal plans that meet your diet goals. They can be personalized for your food preferences, budget, macros, and schedule. Then, once a week, we give you a grocery list with everything you need.',
    'positions': [
                 {
                     'position': 'Software engineering',
                     'details': ['Full-Time', 'Spring/Summer']
                 },
                 {
                     'position': 'Marketing intern',
                     'details': ['Spring/Summer']
                 },
                 {
                     'position': 'Basic data entry',
                     'details': ['part-time', 'Spring/Summer']
                 },
                 ],
    'logo': './img/logo/eatthismuch.png',
    'url' : 'https://www.eatthismuch.com/',
  },

  'localroots': {
    'name': 'Local Roots',
    'description': 'Local Roots is forging the food system of the future. We’re boldly developing technologies to feed the planet healthy and delicious food in an environmentally responsible way. Every day we innovate agriculture in ways that others think impossible.',
    'positions': [
                 {
                     'position': 'Hardware and software engineers',
                     'details': ['full-time', 'intern']
                 },
                                  ],
    'logo': './img/logo/localrootsfarm.png',
    'url' : 'http://localrootsfarms.com',
  },

  'videoamp': {
    'name': 'VideoAmp',
    'description': 'VideoAmp is a software platform built to enable the total video market. We do this by bridging the data divide between TV and Digital platforms. We enable content owners and advertisers to transact seamlessly across screens.',
    'positions': [
                 {
                     'position': 'Sales Operations Assistant',
                     'details': []
                 },
                 {
                     'position': 'Digital Campaign Assistant',
                     'details': []
                 },
                 {
                     'position': 'Marketing/Business Development Assistant',
                     'details': []
                 },
                 {
                     'position': 'Data Researcher',
                     'details': []
                 },
                 {
                     'position': 'Operations Assistant',
                     'details': []
                 },
                 ],
    'logo': './img/logo/videoamp.png',
    'url' : 'http://www.videoamp.com',
  },

  'moopon': {
    'name': 'Moopon',
    'description': "Moopon is a Customer-Sourced social media advertising platform for local merchants.  Users take pics and post on their social media via moopon's mobile app to get deals at participating merchants.",
    'positions': [
                 {
                     'position': 'Developers',
                     'details': ['iOS', 'Android', 'JAVA']
                 },
                 ],
    'logo': './img/logo/moopon.png',
    'url' : 'http://moopon.us',
  },

  'mkpartners': {
    'name': 'MK Partners',
    'description': 'We are small company that is agile like a startup but have the security of being in business since 2006. We value our employees above everything else.  We spend our days solving puzzles, building new things, and pushing the cloud to its limits.',
    'positions': [
                 {
                     'position': 'Business Development Representative',
                     'details': []
                 },
                 {
                     'position': 'Technical Consultant',
                     'details': []
                 },
                 {
                     'position': 'Force.com Administrator',
                     'details': []
                 },
                 {
                     'position': 'Force.com Developer',
                     'details': []
                 },
                 {
                     'position': 'Software Engineer',
                     'details': []
                 },
                 ],
    'logo': './img/logo/mkpartners.png',
    'url' : 'http://www.mkpartners.com',
  },

  'avant': {
    'name': 'Avant',
    'description': 'A hyper-growth fintech startup that offers access to personal loans with a process that is almost entirely online.',
    'positions': [
                 {
                     'position': 'Software Engineer',
                     'details': ['New Graduate']
                 },
                 {
                     'position': 'Software Engineer',
                     'details': ['Intern']
                 },
                 {
                     'position': 'Business Data Analyst',
                     'details': []
                 },
                 ],
    'logo': './img/logo/avant.png',
    'url' : 'http://www.avant.com',
  },

  'laserfiche': {
    'name': 'Laserfiche',
    'description': 'Laserfiche is a constant innovator in the field of enterprise content management software based out of Long Beach, CA.',
    'positions': [
                 {
                     'position': 'Software engineering',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Software engineering intern',
                     'details': ['Summer']
                 },
                 {
                     'position': 'Technical Marketing Engineer',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Presales Consultant',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Technical Writer for Software',
                     'details': ['Full-Time']
                 },
                 ],
    'logo': './img/logo/laserfiche.png',
    'url' : 'http://www.laserfiche.com',
  },

  'gem': {
    'name': 'Gem',
    'description': 'Gem is a blockchain technology company in Venice, CA. Our team is dedicated to solving the world’s toughest problems with shared ledger technology. Gem’s platform unlocks the power of blockchains in finance, healthcare, insurance, supply chain and beyond',
    'positions': [
                 {
                     'position': 'Junior software engineer (Front End)',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Junior software engineer (Full stack)',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'QA/engineer in test',
                     'details': ['Full-Time']
                 },
                 {
                     'position': 'Software engineering internship',
                     'details': ['full time', 'Spring/Summer']
                 },
                 ],
    'logo': './img/logo/gem.png',
    'url' : 'http://gem.co/',
  },

}

var source = $("#tooltip-template").html();
var tooltip_template = Handlebars.compile(source);
var modal_source = $("#modal-template").html();
var modal_template = Handlebars.compile(modal_source);


$(document).ready(function() {

  // Tooltip hover
  $('.logo').each(function() {
    var id = this.id;
    $(this).attr({
      src: sponsors[id].logo,
    });

    $(this).parent().attr({
      href: sponsors[id].url,
    });

    $(this).tooltipster({
        delay: 150,
        content: $('<span>' + tooltip_template(sponsors[this.id])  + '</span>')
    });
  });


  // Modals
  $('.logo').click(function(e) {
    e.preventDefault();

    var id = ($(this)[0].id);
    //var company = sponsors[id];
    var company = sponsors[id];
    console.log(company);
    var width = $(window).width() / parseFloat($("body").css("font-size"));

    // Disable modals for desktops (40 em or greater)
    if (width > 40) {
      return;
    }
    $('#mobile-modal').html(modal_template(company));
    $('#mobile-modal').modal('show');
  });


  $('.navbar-sign-up').click(function(e) {
    var id = ($(this)[0].id);
    $('#sign-up-modal').modal('show');
  });


  $('#student-signup').click(function(e) {
    $('#signup-message').html("Student signups will open up two weeks before the event!");
  });

  // Scroll-to effect
  $(function() {
    $('a[href*=#]:not([href=#])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
        if (target.length) {
          $('html,body').animate({
            scrollTop: target.offset().top
          }, 400);
          return false;
        }
      }
    });
  });


  $('#student').tooltipster({
      delay: 150,
  });

  $(window).scroll(function() {    
      var scroll = $(window).scrollTop();

      if (scroll >= 20) {
          $(".top-bar").addClass("scrolling");
      } else {
          $(".top-bar").removeClass("scrolling");
      }

      if (scroll >= 20) {
          $(".title-bar").addClass("scrolling");
      } else {
          $(".title-bar").removeClass("scrolling");
      }
  });


  $('#subscribe').click(function(e) {

    var width = $(window).width() / parseFloat($("body").css("font-size"));
    if (width > 40) {
      console.log('big');
      $('#medium-form').submit();
    }
    else {
      $('#mobile-form').submit();
    }
  });


});
